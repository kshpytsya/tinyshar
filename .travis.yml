group: travis_latest
sudo: true
language: python
install:
  - sudo update-alternatives --install /bin/sh sh /bin/bash 100
  - pip install --upgrade setuptools pip
  - pip install -r requirements-dev.txt
  - pip install tox-travis
  - pip list --format columns
python:
  - "3.6"
  - "3.7-dev"
script:
  - bash --version
  - /bin/sh --version
  - shellcheck --version
  - inv check docs test
deploy:
  # - provider: releases
  #   api_key:
  #     secure: 
  #   file_glob: true
  #   file: github-release/*
  #   skip_cleanup: true
  #   on:
  #     repo: kshpytsya/tinyshar
  #     tags: true
  #     python: 3.6
  - provider: surge
    project: docs/build
    domain: tinyshar-docs.surge.sh
    on:
      repo: kshpytsya/tinyshar
      tags: true
      python: 3.6
  - provider: pypi
    user: kshpytsya
    password:
      secure: "obBOBVT52T9OVSIe63GQENWIb/bB7SjA8aVK9ZDKoPT4lHE+c6kc/ZlE44AfYmyBZnlwSCCMzrN+LbidY3YvUuPFQdasQVTmW5jHX1ePTpRmiqMQ06Js6AbeDYkW9Yi78/WNNp+1mtbkgfQotiaaUH1XKgnr2Gu5QF2dxBFfeui0BuGLfkuSm3TzTQTmnCTiR0dWWe9vGkfAiSo4I4OJBMqEsQYQfKLP63WR/mIVyNbupidAg7tfWA9IMWUEoz3XoCr5XMnP9CMaLmoNPSPfBfFJLp+miXlzTkIMNK72ZBOYLZ6xrNqO9rmbQXXhJRNtvB64uc17F1zqT9uFypFNeNJFe2yVq8w5FTpxE1zft4PXsW+U6NrzELM26dtvibbbuwL009y+o29J4R4qwVe8txvyYQH99BwwzyY+LICI+c//5GchS01fYu6WwmI2g7j+neBnZyo/+ddl9/JrGgathN7i4KhYDxYkA1JVmZy1316DGwCHqjgDnKq7OawsfBeNRI8JIvnAHMo1hpBCZLNghwh5k1iYlOTyTQTAqksWNQmaA/H5oQAmMXz0BR8ef9aPVx+zovothcU/9uacqen1B1fYd17iaOApIIQ3L+36nGeH7/f++Fzo2BZh85D3U/fyuO2fgpSmZEuEyJid6YPAqxA6X5cRKErRE7CoQ/hc5ck="
    on:
      repo: kshpytsya/tinyshar
      tags: true
      python: 3.6
